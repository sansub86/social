{"version":3,"sources":["components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/ProfileInfo/ProfileStatus.jsx","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["module","exports","posts","postsBlock","item","descriptionBlock","Post","props","react_default","a","createElement","className","s","src","alt","message","maxLenght10","maxLengthCreator","AddNewPostRedux","reduxForm","form","onSubmit","handleSubmit","Field","component","Textarea","name","placeholder","validate","required","MyPosts","formData","addPost","addNewPostText","map","p","MyPosts_Post_Post","MyPostsContainer","connect","state","profilePage","newPostText","dispatch","text","addNewPostActionCreator","React","Component","ProfileStatusWithHooks","_useState","useState","_useState2","Object","slicedToArray","editMode","setEditMode","_useState3","status","_useState4","setStatus","useEffect","onDoubleClick","autoFocus","onBlur","updateStatus","onChange","e","currentTarget","value","ProfileInfo","profile","photos","large","ProfileInfo_ProfileStatusWithHooks","Preloader","Profile","Profile_ProfileInfo_ProfileInfo","MyPosts_MyPostsContainer","ProfileContainer","userId","this","match","params","getUserProfile","getStatus","components_Profile_Profile","assign","compose","WithAuthRedirect","withRouter","isAuth","auth","autorizedUserId"],"mappings":"mGACAA,EAAAC,QAAA,CAAkBC,MAAA,uBAAAC,WAAA,kDCAlBH,EAAAC,QAAA,CAAkBG,KAAA,yCCAlBJ,EAAAC,QAAA,CAAkBI,iBAAA,iMCaHC,EAXF,SAACC,GACV,OACIC,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAER,MACdI,EAAAC,EAAAC,cAAA,OAAKG,IAAI,6GAA6GC,IAAM,WAC3HP,EAAMQ,QACPP,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,wDCcVM,EAAcC,YAAiB,IAkB/BC,EAAkBC,YAAU,CAACC,KAAM,kBAAjBD,CAjBL,SAACZ,GAChB,OACIC,EAAAC,EAAAC,cAAA,QAAMW,SAAUd,EAAMe,cAClBd,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAACa,EAAA,EAAD,CACIC,UAAWC,IACXC,KAAK,iBACLC,YAAY,eACZC,SAAY,CAACC,IAAUb,MAG/BR,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,8BAMDoB,EAnCC,SAACvB,GAIb,OACIC,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAET,YACdK,EAAAC,EAAAC,cAAA,sBACAF,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAACQ,EAAD,CAAiBG,SAPZ,SAACU,GACdxB,EAAMyB,QAAQD,EAASE,oBAQnBzB,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAEV,OACbK,EAAML,MAAMgC,IAAI,SAAAC,GAAC,OAAI3B,EAAAC,EAAAC,cAAC0B,EAAD,CAAMrB,QAASoB,EAAEpB,uBCIxCsB,EAFUC,YAfH,SAACC,GACnB,MAAO,CACHrC,MAAOqC,EAAMC,YAAYtC,MACzBuC,YAAaF,EAAMC,YAAYC,cAId,SAACC,GACtB,MAAO,CACHV,QAAS,SAACW,GACND,EAASE,YAAwBD,OAKpBL,CAA6CR,gCCjB1Ce,IAAMC,kBC6BnBC,EA7BgB,SAACxC,GAAU,IAAAyC,EACRC,oBAAS,GADDC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACjCK,EADiCH,EAAA,GACvBI,EADuBJ,EAAA,GAAAK,EAEZN,mBAAS1C,EAAMiD,QAFHC,EAAAN,OAAAC,EAAA,EAAAD,CAAAI,EAAA,GAEjCC,EAFiCC,EAAA,GAEzBC,EAFyBD,EAAA,GAgBtC,OAHAE,oBAAU,WACND,EAAUnD,EAAMiD,SAClB,CAACjD,EAAMiD,SACFhD,EAAAC,EAAAC,cAAA,YACD2C,GAAY7C,EAAAC,EAAAC,cAAA,WACVF,EAAAC,EAAAC,cAAA,QAAMkD,cAfW,WACrBN,GAAY,KAcgC/C,EAAMiD,QAAU,cAE3DH,GACD7C,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,SAAOmD,WAAW,EAAMC,OAhBL,WACvBR,GAAY,GACZ/C,EAAMwD,aAAaP,IAcqCQ,SAZrC,SAACC,GACpBP,EAAUO,EAAEC,cAAcC,QAWwDA,MAAOX,OCFlFY,EAjBK,SAAC7D,GACjB,OAAIA,EAAM8D,QAIN7D,EAAAC,EAAAC,cAAA,WAIIF,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAEP,kBACdG,EAAAC,EAAAC,cAAA,OAAKG,IAAKN,EAAM8D,QAAQC,OAAOC,QAC/B/D,EAAAC,EAAAC,cAAC8D,EAAD,CAAwBhB,OAAQjD,EAAMiD,OAAQO,aAAcxD,EAAMwD,iBATnEvD,EAAAC,EAAAC,cAAC+D,EAAA,EAAD,OCMAC,EARC,SAACnE,GACb,OACIC,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAACiE,EAAD,CAAaN,QAAS9D,EAAM8D,QAASb,OAAQjD,EAAMiD,OAAQO,aAAcxD,EAAMwD,eAC/EvD,EAAAC,EAAAC,cAACkE,EAAD,uCCENC,8LAEE,IAAIC,EAASC,KAAKxE,MAAMyE,MAAMC,OAAOH,OAChCA,IACDA,EAAS,MAEbC,KAAKxE,MAAM2E,eAAeJ,GAC1BC,KAAKxE,MAAM4E,UAAUL,oCAIrB,OAAOtE,EAAAC,EAAAC,cAAC0E,EAADjC,OAAAkC,OAAA,GAAaN,KAAKxE,MAAlB,CAAyB8D,QAASU,KAAKxE,MAAM8D,QAASb,OAAQuB,KAAKxE,MAAMiD,OAAQO,aAAcgB,KAAKxE,MAAMwD,uBAX1FlB,IAAMC,WAuBtBwC,sBACXC,IACAC,IACAlD,YAZkB,SAACC,GACnB,MAAO,CACH8B,QAAS9B,EAAMC,YAAY6B,QAC3BoB,OAAQlD,EAAMmD,KAAKD,OACnBjC,OAAQjB,EAAMC,YAAYgB,OAC1BmC,gBAAiBpD,EAAMmD,KAAKZ,SAOP,CAACI,mBAAgBC,cAAWpB,mBAH1CuB,CAIbT","file":"static/js/3.3663a1f0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"MyPosts_posts__3tMcd\",\"postsBlock\":\"MyPosts_postsBlock__3hPaH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__ymtRz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__1YE6u\"};","import React from 'react';\r\nimport s from './Post.module.css';\r\n\r\nconst Post = (props) => {\r\n    return (\r\n        <div className={s.item}>\r\n            <img src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQFkS-2H6DXvajDpXgKXahuEsel17VoH8-CY38_3NqurBV3T8yQcg\" alt = \"avatar\"/>\r\n            {props.message}\r\n            <div>\r\n                <span>like</span>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\nexport default Post;","import React from 'react';\r\nimport s from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, required} from \"../../../utils/validators/validators\";\r\nimport {Textarea} from \"../../common/FormsControls/FormsControl\";\r\n\r\nconst MyPosts = (props) => {\r\n    let addMessage = (formData) =>{\r\n        props.addPost(formData.addNewPostText);\r\n    };\r\n    return (\r\n        <div className={s.postsBlock}>\r\n            <h3>My Posts</h3>\r\n            <div>\r\n                <AddNewPostRedux onSubmit={addMessage}/>\r\n            </div>\r\n            <div className={s.posts}>\r\n                {props.posts.map(p => <Post message={p.message}/>)}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\nconst maxLenght10 = maxLengthCreator(10);\r\nconst AddNewPost = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field\r\n                    component={Textarea}\r\n                    name=\"addNewPostText\"\r\n                    placeholder=\"New PostText\"\r\n                    validate = {[required, maxLenght10]}\r\n                />\r\n            </div>\r\n            <div>\r\n                <button>Add Post</button>\r\n            </div>\r\n        </form>\r\n    )\r\n};\r\nconst AddNewPostRedux = reduxForm({form: \"addNewPostText\"})(AddNewPost);\r\nexport default MyPosts;","import React from 'react';\r\nimport {addNewPostActionCreator} from '../../../redux/profile_reducer'\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n        newPostText: state.profilePage.newPostText\r\n    }\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: (text) => {\r\n            dispatch(addNewPostActionCreator(text))\r\n        }\r\n    }\r\n};\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\n\r\nexport default MyPostsContainer;","import React from 'react';\r\n\r\n\r\nclass ProfileStatus extends React.Component {\r\n    state = {\r\n        editMode: false,\r\n        status: this.props.status\r\n    };\r\n    activateEditMode = () => {\r\n        this.setState({\r\n            editMode: true\r\n        })\r\n    };\r\n    deactivateEditMode = () => {\r\n        this.setState({\r\n            editMode: false\r\n        });\r\n        this.props.updateStatus(this.state.status);\r\n    };\r\n    onChangeStatus = (e) => {\r\n        this.setState({\r\n            status: e.currentTarget.value\r\n        })\r\n    };\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if(prevProps.status !== this.props.status){\r\n            this.setState(\r\n                {\r\n                    status: this.props.status\r\n                }\r\n            )\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return <div>\r\n            {!this.state.editMode && <div>\r\n                <span onDoubleClick={this.activateEditMode}>{this.props.status || \"No status\"}</span>\r\n            </div>}\r\n            {this.state.editMode &&\r\n            <div>\r\n                <input onChange={this.onChangeStatus} autoFocus={true} onBlur={this.deactivateEditMode} value={this.state.status}/>\r\n            </div>\r\n            }\r\n        </div>\r\n\r\n    }\r\n}\r\n\r\nexport default ProfileStatus;","import React, {useState, useEffect} from 'react';\r\n\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    };\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateStatus(status);\r\n    };\r\n    const onChangeStatus = (e) => {\r\n        setStatus(e.currentTarget.value)\r\n    };\r\n    useEffect(()=>{\r\n        setStatus(props.status)\r\n    },[props.status]);\r\n    return <div>\r\n        {!editMode && <div>\r\n            <span onDoubleClick={activateEditMode}>{props.status || \"No status\"}</span>\r\n        </div>}\r\n        {editMode &&\r\n        <div>\r\n            <input autoFocus={true} onBlur={deactivateEditMode} onChange={onChangeStatus} value={status}/>\r\n        </div>\r\n        }\r\n    </div>\r\n\r\n};\r\n\r\nexport default ProfileStatusWithHooks;","import React from 'react';\r\nimport s from './ProfileInfo.module.css';\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport ProfileStatus from \"./ProfileStatus\";\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\n\r\nconst ProfileInfo = (props) => {\r\n    if(!props.profile){\r\n        return <Preloader />\r\n    }\r\n    return (\r\n        <div>\r\n            {/*<div>\r\n                <img src=\"https://images.pexels.com/photos/414612/pexels-photo-414612.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500\" alt=\"Main image\"/>\r\n            </div>*/}\r\n            <div className={s.descriptionBlock}>\r\n                <img src={props.profile.photos.large}/>\r\n                <ProfileStatusWithHooks status={props.status} updateStatus={props.updateStatus}/>\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n};\r\nexport default ProfileInfo;","import React from 'react';\r\nimport s from './Profile.module.css';\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer';\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nconst Profile = (props) => {\r\n    return (\r\n        <div>\r\n            <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus}/>\r\n            <MyPostsContainer/>\r\n        </div>\r\n    );\r\n};\r\nexport default Profile;","/**\r\n * Created by User-35 on 19.02.2020.\r\n */\r\nimport React from 'react'\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getStatus, getUserProfile, updateStatus} from \"../../redux/profile_reducer\";\r\nimport * as axios from 'axios'\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {WithAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n    componentDidMount() {\r\n        let userId = this.props.match.params.userId;\r\n        if (!userId) {\r\n            userId = 5902;\r\n        }\r\n        this.props.getUserProfile(userId);\r\n        this.props.getStatus(userId);\r\n    }\r\n\r\n    render() {\r\n        return <Profile {...this.props} profile={this.props.profile} status={this.props.status} updateStatus={this.props.updateStatus}/>\r\n    }\r\n}\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        profile: state.profilePage.profile,\r\n        isAuth: state.auth.isAuth,\r\n        status: state.profilePage.status,\r\n        autorizedUserId: state.auth.userId\r\n    }\r\n};\r\n\r\nexport default compose(\r\n    WithAuthRedirect,\r\n    withRouter,\r\n    connect(mapStateToProps, {getUserProfile, getStatus, updateStatus})\r\n)(ProfileContainer);\r\n\r\n"],"sourceRoot":""}